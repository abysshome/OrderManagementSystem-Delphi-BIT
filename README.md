# 外卖订单管理系统

## 项目概述

本项目是北京理工大学赵小林老师《数据库设计与开发》课程的Delphi大作业。系统实现了一个完整的外卖订单管理平台，支持顾客下单、餐厅接单、骑手配送以及管理员监控等功能，采用Delphi作为前端开发工具，PostgreSQL作为后端数据库。

## 系统功能

系统包含四种用户角色，每种角色拥有不同的功能权限：

### 1. 顾客用户
- 浏览餐厅菜品
- 下单购买
- 查看订单状态
- 修改个人信息（地址、支付方式等）

### 2. 餐厅用户
- 接收订单
- 处理订单
- 管理菜品信息

### 3. 骑手用户
- 接收配送任务
- 更新配送状态
- 完成订单配送

### 4. 管理员用户
- 系统监控
- 用户管理
- 数据统计分析

## 技术架构

### 前端技术
- 开发语言：Delphi
- 界面组件：标准Delphi VCL组件
- 数据访问：ADO组件

### 后端技术
- 数据库：PostgreSQL
- 连接方式：ODBC (MSDASQL)

## 数据库设计

系统数据库设计包含以下主要表：

- **users**：用户基本信息表，包含所有类型用户
- **customers**：顾客信息表
- **restaurants**：餐厅信息表
- **riders**：骑手信息表
- **admins**：管理员信息表
- **orders**：订单信息表
- **order_items**：订单项目表
- **foods**：菜品信息表

数据库采用触发器（如after_insert_user_trigger）实现用户类型与对应子表的自动关联。

## 项目结构

```
├── SQL脚本.sql                # 数据库创建和初始化脚本
├── 使用说明书.pdf             # 系统使用说明文档
├── 设计文档.pdf               # 系统设计文档
├── 数据库物理备份\            # PostgreSQL数据库备份文件
└── 源代码及可执行文件\        # Delphi源代码和编译后的程序
    └── ASS3\                 # 主项目目录
        ├── Project.dpr       # 项目主文件
        ├── connection.ini    # 数据库连接配置文件
        └── Units\            # 单元文件目录
            ├── Unit1.pas     # 主窗体单元
            ├── unit2.pas     # 登录窗体单元
            ├── Unit3.pas     # 顾客窗体单元
            ├── Unit4.pas     # 注册窗体单元
            ├── Unit5.pas     # 骑手窗体单元
            ├── Unit6.pas     # 餐厅窗体单元
            └── Unit7.pas     # 管理员窗体单元
```

## 安装与使用

### 环境要求
- Windows操作系统
- PostgreSQL数据库服务器
- ODBC数据源配置

### 安装步骤
1. 安装PostgreSQL数据库
2. 使用SQL脚本创建数据库和表结构
3. 配置ODBC数据源（PostgreSQL35W）
4. 修改connection.ini文件中的连接参数
5. 运行可执行文件或在Delphi IDE中打开项目

### 登录系统
1. 启动程序后，选择用户类型（顾客、餐厅、骑手或管理员）
2. 输入用户名和密码
3. 点击登录按钮进入对应的功能界面

## 开发团队

本项目为北京理工大学《数据库设计与开发》课程作业，由学生独立完成。
